1 InnoDB加锁过程
InnoDB的锁通过锁定索引来实现，如果查询条件中有主键，就先锁定主键，如果有索引就先锁定对应的索引然后在锁定对应的主键，如果连索引也没有，就锁定整张表，所以在开发中为某些字段建立索引是非常有必要的。
2 共享锁和排它锁
共享锁(s)，又称读锁。允许一个事务读取一行的数据，会阻止其他事务获取这一行数据的排它锁。事物A对id=1这一行加上了s锁，则事物A可以读取这一行的数据，但是不能进行修改。其他事务可以获取这一行数据的s锁，但是不能获取这一行数据的x锁，只有当事务A释放了s锁，其他事务才可以获取这一行数据的x锁。
排它锁，又称写锁。允许获取排他锁的事务修改数据，阻止其他事务获取排它锁和共享锁。事务A获取了id=1这一行的排它锁，事务A对这一行进行修改，也可读取，但是其他事务不能获取这一行的共享锁和排它锁。只有当事务A释放这一行数据的排它锁，其他事务才获取。 